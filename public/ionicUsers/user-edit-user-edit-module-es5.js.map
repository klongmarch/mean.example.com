{"version":3,"sources":["webpack:///src/app/user-edit/user-edit.page.html","webpack:///src/app/user-edit/user-edit-routing.module.ts","webpack:///src/app/user-edit/user-edit.module.ts","webpack:///src/app/user-edit/user-edit.page.scss","webpack:///src/app/user-edit/user-edit.page.ts"],"names":["routes","path","component","UserEditPageRoutingModule","imports","forChild","exports","UserEditPageModule","declarations","UserEditPage","activatedRoute","usersService","router","errors","params","subscribe","getUser","response","success","name","username","email","message","navigate","updateUser","user","id","selector","template"],"mappings":"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","file":"user-edit-user-edit-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>userEdit</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content *ngIf=\\\"!user\\\">\\n  <ion-label ion-text-center>\\n    <ion-spinner></ion-spinner>\\n  </ion-label>\\n</ion-content>\\n\\n<ion-content *ngIf=\\\"user\\\">\\n  \\n  <ion-input [(ngModel)]=\\\"user._id\\\" name=\\\"_id\\\" type=\\\"hidden\\\"></ion-input>\\n  \\n  <ion-item>\\n    <ion-label>Email</ion-label>\\n    <ion-input [(ngModel)]=\\\"user.email\\\" name=\\\"email\\\" type=\\\"email\\\"></ion-input>\\n    <div *ngIf=\\\"errors.email\\\"> {{ errors.email }} </div>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label>Username</ion-label>\\n    <ion-input [(ngModel)]=\\\"user.username\\\" name=\\\"username\\\" type=\\\"text\\\"></ion-input>\\n    <div *ngIf=\\\"errors.username\\\"> {{ errors.username }} </div>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label>First Name</ion-label>\\n    <ion-input [(ngModel)]=\\\"user.first_name\\\" name=\\\"first_name\\\" type=\\\"text\\\"></ion-input>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label>Last Name</ion-label>\\n    <ion-input [(ngModel)]=\\\"user.last_name\\\" name=\\\"last_name\\\" type=\\\"text\\\"></ion-input>\\n  </ion-item>\\n\\n  <ion-button color=\\\"primary\\\" expand=\\\"full\\\" (click)=\\\"onSubmit()\\\">Submit</ion-button>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { UserEditPage } from './user-edit.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UserEditPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class UserEditPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { UserEditPageRoutingModule } from './user-edit-routing.module';\n\nimport { UserEditPage } from './user-edit.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    UserEditPageRoutingModule\n  ],\n  declarations: [UserEditPage]\n})\nexport class UserEditPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VzZXItZWRpdC91c2VyLWVkaXQucGFnZS5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\n\nimport { UsersService } from '../users.service';\nimport { User } from '../user.model'; \n\n@Component({\n  selector: 'app-user-edit',\n  templateUrl: './user-edit.page.html',\n  styleUrls: ['./user-edit.page.scss'],\n})\nexport class UserEditPage implements OnInit {\n\n  user: User;\n  errors: any = {};\n  \n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private usersService: UsersService,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n    this.activatedRoute.params.subscribe(params=>{\n      this.getUser(params['userId']);\n    });\n  }\n\n  response(response): void{\n    \n    if(response.success===false){\n      \n      if( response.errors.name == 'MissingUsernameError' ){\n        this.errors.username = 'Please enter a username';\n      }\n\n      if( response.errors.name == 'UserExistsError' ){\n        this.errors.username = 'A user with the given username is already registered';\n      }\n\n      if( response.errors.email ){\n        this.errors.email = response.errors.errors.email.message;\n      }\n\n    }\n\n    if(response.success===true){\n      this.router.navigate(['/users']);\n    }\n  }\n\n  onSubmit(): void{\n    this.usersService.updateUser(this.user).subscribe(\n      (response:any) => {\n        this.response(response);\n      }\n    );\n  }\n\n  getUser(id:string):void {\n    this.usersService.getUser(id).subscribe(\n      (response:any)=>{\n        this.user = response.user;\n      }\n    );\n  }\n}\n"]}